{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\WebCourse\\\\DormCritique\\\\frontend\\\\src\\\\pages\\\\School\\\\School.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport Navbar from '../../components/navbar/Navbar';\nimport './School.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport './stars.css';\nimport Footer from \"../../components/footer/Footer\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { getSchoolByName } from '../../actions/school';\nimport { MdLocationOn } from \"react-icons/md\";\nimport { MdLibraryAdd } from \"react-icons/md\";\n\nfunction School() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  let {\n    id\n  } = useParams();\n  console.log(id);\n  let nso = id.replaceAll('_', ' ');\n  console.log(nso);\n  const school = useSelector(state => state.school);\n  let longg;\n  console.log(school);\n  const externalImage = 'https://res.cloudinary.com/do0puhubq/image/upload/v1674985967/Schools/AUBhome_gvbnvj.jpg';\n\n  const handlebutt = (long, lat) => {\n    navigate(`/AddDorm/${id}/${long}/${lat}`);\n  };\n\n  useEffect(() => {\n    dispatch(getSchoolByName(id));\n  }, [dispatch]);\n\n  const handleit = () => {\n    navigate(`/`);\n  };\n\n  let ao = [];\n\n  for (let i = 0; i < (school === null || school === void 0 ? void 0 : (_school$Dorms = school.Dorms) === null || _school$Dorms === void 0 ? void 0 : _school$Dorms.length); i++) {\n    var _school$Dorms;\n\n    console.log(i);\n\n    if (school.Dorms[i].approved === true) {\n      ao.push(school.Dorms[i]);\n    }\n  }\n\n  console.log(ao);\n  let ii = 0;\n  const [currentPage, setCurrentPage] = useState(1);\n  const ROWS_PER_PAGE = 1;\n  const startIndex = (currentPage - 1) * ROWS_PER_PAGE;\n  const endIndex = startIndex + ROWS_PER_PAGE; // Render only the rows for the current page\n\n  const dormsTodoDisplay = ao.slice(startIndex, endIndex); // Function to handle \"Next\" button click\n\n  const handleNext = () => {\n    setCurrentPage(currentPage + 1);\n  }; // Function to handle \"Previous\" button click\n\n\n  const handlePrevious = () => {\n    setCurrentPage(currentPage - 1);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), school ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"tit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 19\n    }\n  }, nso), \"  Dorms\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"loco\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MdLocationOn, {\n    style: {\n      color: \"#562F4A\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 35\n    }\n  }), \" \", school.City), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"imageflu\",\n    src: school.Image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"buttadd\",\n    onClick: () => handlebutt(school.Coordinates.long, school.Coordinates.lag),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"Add a Dorm \", /*#__PURE__*/React.createElement(MdLibraryAdd, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 89\n    }\n  })))), ao.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"browse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"Browse reviews from \", ao.length, \" dorm/s\"))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"browse\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, \"   \", /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 26\n    }\n  }, \" No Dorms have been added for this School\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, dormsTodoDisplay.map((value, key) => {\n    var _value$Coordinates, _value$Coordinates2;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: `/reviews/${value._id}/${value === null || value === void 0 ? void 0 : (_value$Coordinates = value.Coordinates) === null || _value$Coordinates === void 0 ? void 0 : _value$Coordinates.long}/${(_value$Coordinates2 = value.Coordinates) === null || _value$Coordinates2 === void 0 ? void 0 : _value$Coordinates2.lag}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"imgo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: value.images,\n      alt: \"SOSO\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"thingyss\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 23\n      }\n    }, value.Name), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"starability-result\",\n      \"data-rating\": Math.round(value.Rating),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"prr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, \" \", value.contractInformation.Price, \"$ per month\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"rev\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, value.contractInformation.DormType[0], \" \")))));\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttcen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"buttri\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, currentPage > 1 && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handlePrevious,\n    className: \"butbut\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, \"Previous\")), endIndex < ao.length && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleNext,\n    className: \"butbut\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, \"Next\"))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"didib\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 32\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 41\n    }\n  }, \"School does not exist\")), /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"backhome\",\n    onClick: () => handleit(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, \"Go back Home\"))));\n}\n\nexport default School;","map":{"version":3,"sources":["C:/Users/USER/OneDrive/Desktop/WebCourse/DormCritique/frontend/src/pages/School/School.jsx"],"names":["React","useEffect","useState","Navbar","useSelector","useDispatch","Footer","useNavigate","useParams","getSchoolByName","MdLocationOn","MdLibraryAdd","School","navigate","dispatch","id","console","log","nso","replaceAll","school","state","longg","externalImage","handlebutt","long","lat","handleit","ao","i","Dorms","length","approved","push","ii","currentPage","setCurrentPage","ROWS_PER_PAGE","startIndex","endIndex","dormsTodoDisplay","slice","handleNext","handlePrevious","color","City","Image","Coordinates","lag","map","value","key","_id","images","Name","Math","round","Rating","contractInformation","Price","DormType"],"mappings":"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","sourcesContent":["import React, { useEffect,useState } from 'react'\r\nimport Navbar from '../../components/navbar/Navbar'\r\nimport './School.css';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport './stars.css';\r\nimport Footer from \"../../components/footer/Footer\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { getSchoolByName } from '../../actions/school'\r\n\r\nimport { MdLocationOn } from \"react-icons/md\";\r\nimport { MdLibraryAdd } from \"react-icons/md\"\r\nfunction School() {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch()\r\n  let { id } = useParams();\r\n  console.log(id)\r\n  let nso = id.replaceAll('_', ' ')\r\n  console.log(nso)\r\n  const school = useSelector((state) => state.school)\r\n  let longg;\r\n  console.log(school)\r\n  const externalImage =\r\n    'https://res.cloudinary.com/do0puhubq/image/upload/v1674985967/Schools/AUBhome_gvbnvj.jpg';\r\n  const handlebutt = (long, lat) => {\r\n    navigate(`/AddDorm/${id}/${long}/${lat}`)\r\n  }\r\n  \r\n  useEffect(() => {\r\n    dispatch(getSchoolByName(id));\r\n  }, [dispatch]);\r\n  const handleit = () => {\r\n    navigate(`/`)\r\n  }\r\n  let ao=[];\r\n  for (let i = 0; i < school?.Dorms?.length; i++) {\r\n    console.log(i)\r\n    if (school.Dorms[i].approved === true) {\r\n      ao.push(school.Dorms[i])\r\n    }\r\n  }\r\n  console.log(ao)\r\n  let ii = 0;\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const ROWS_PER_PAGE = 1;\r\n  const startIndex = (currentPage - 1) * ROWS_PER_PAGE;\r\n  const endIndex = startIndex + ROWS_PER_PAGE;\r\n\r\n  // Render only the rows for the current page\r\n  const dormsTodoDisplay = ao.slice(startIndex, endIndex);\r\n\r\n  // Function to handle \"Next\" button click\r\n  const handleNext = () => {\r\n    setCurrentPage(currentPage + 1);\r\n  };\r\n\r\n  // Function to handle \"Previous\" button click\r\n  const handlePrevious = () => {\r\n    setCurrentPage(currentPage - 1);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      {school ? (\r\n        <>\r\n          <p>\r\n            <center>\r\n              <h2><span className='tit'>{nso}</span>  Dorms</h2>\r\n              <p className=\"loco\"><MdLocationOn style={{ color: \"#562F4A\" }} /> {school.City}</p>\r\n              <img className='imageflu' src={school.Image} />\r\n              <button className='buttadd' onClick={() =>\r\n                handlebutt(school.Coordinates.long, school.Coordinates.lag)}>Add a Dorm <MdLibraryAdd /></button>\r\n            </center>\r\n          </p>\r\n          {ao.length > 0 ? (\r\n            <>\r\n              <div className=\"browse\">\r\n                <h2>Browse reviews from {\r\n                  ao.length} dorm/s</h2>\r\n                {/* <label for=\"sort\" id='lwek'>Sort by:</label>\r\n            <select name=\"Sort\" id=\"sort\">\r\n              <option value=\"Name\">Name</option>\r\n              <option value=\"Price\">Price</option>\r\n              <option value=\"Rating\">Rating</option>\r\n            </select> */}\r\n              </div>\r\n            </>\r\n          ) : (<>\r\n            <div className=\"browse\">\r\n              <center>   <h2> No Dorms have been added for this School</h2></center>\r\n            </div>\r\n          </>)}\r\n\r\n          <div className=\"flexc\">\r\n            {dormsTodoDisplay.map((value, key) => {\r\n              return (\r\n                <div className='fil'>\r\n                  <a href={`/reviews/${value._id}/${value?.Coordinates?.long}/${value.Coordinates?.lag}`}>\r\n                    <div className='imgo'>\r\n                      <img src={value.images} alt=\"SOSO\" />\r\n                    </div>\r\n                    <div className='thingyss'>\r\n                      <h2>{value.Name}</h2>\r\n                      <p class=\"starability-result\" data-rating={Math.round(value.Rating)}>\r\n                      </p>\r\n                      <div className='flo'>\r\n                        <p className='prr'> {value.contractInformation.Price}$ per month</p>\r\n                        <p className='rev'>{value.contractInformation.DormType[0]} </p>\r\n                      </div>\r\n                    </div>\r\n                  </a>\r\n\r\n                </div>\r\n              )\r\n            })}\r\n            <div className='buttcen'>\r\n              <span className=\"buttri\">\r\n                {currentPage > 1 && (\r\n                  <button onClick={handlePrevious} className='butbut'>Previous</button>\r\n                )}</span>\r\n              {/* Render \"Next\" button if there are more rows */}\r\n              {endIndex < ao.length && (\r\n                <button onClick={handleNext} className='butbut'>Next</button>\r\n              )}\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          </div>\r\n\r\n          <Footer />\r\n        </>\r\n      ) : (\r\n        <div className='didib'><center> <h1>School does not exist</h1></center>\r\n          <center><button className='backhome' onClick={() => handleit()}>Go back Home</button></center>\r\n\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default School\r\n"]},"metadata":{},"sourceType":"module"}