{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\OneDrive\\\\Desktop\\\\WebCourse\\\\DormCritique\\\\frontend\\\\src\\\\pages\\\\AddReview\\\\AddReview.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Navbar from '../../components/navbar/Navbar';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\nimport { getDormById } from '../../actions/dorms';\nimport { useForm } from \"react-hook-form\";\nimport * as actionType from '../../constants/actionTypes';\nimport decode from 'jwt-decode';\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nimport { Rating } from '@material-ui/lab/';\nimport \"./AddReview.css\";\nimport { BsFillStarFill } from \"react-icons/bs\";\nimport Footer from '../../components/footer/Footer';\nconst schema = yup.object().shape({\n  messagee: yup.string().required(\"This field is required\").min(100).max(500),\n  value: yup.number().required(\"This field is required\")\n});\n\nfunction AddReview() {\n  var _errors$messagee;\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const location = useLocation();\n  let {\n    id\n  } = useParams();\n  const [value, setValue] = useState(null);\n  const [value1, setValue1] = useState(null);\n  const [value2, setValue2] = useState(null);\n  const [value3, setValue3] = useState(null);\n  const dorm = useSelector(state => state.dorms); // const [NoValue1, setNoValue1] = useState(\"\");\n\n  if (dorm == null) {\n    navigate(`/`);\n  }\n\n  if (id.length > 24 || id.length < 24) {\n    navigate(`/error`);\n  }\n\n  if (id != (dorm === null || dorm === void 0 ? void 0 : dorm._id)) {\n    navigate(`/error`);\n  }\n\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n\n  const handleButtback = () => {\n    navigate(`/reviews/${dorm._id}/${dorm.Coordinates.long}/${dorm.Coordinates.lag}`);\n  };\n\n  const SubmitForm = Data => {\n    console.log(value);\n    console.log(value1);\n    console.log(value2);\n    console.log(value3);\n    console.log(\"sgdffffffffff\");\n    console.log(Data.messagee);\n  };\n\n  console.log(value);\n\n  const logout = () => {\n    dispatch({\n      type: actionType.LOGOUT\n    });\n    navigate.push('/auth');\n    setUser(null);\n  };\n\n  useEffect(() => {\n    if (!user) {\n      navigate('/auth');\n    }\n\n    dispatch(getDormById(id));\n  }, [dispatch, location]);\n\n  const handleit = () => {\n    navigate(`/`);\n  };\n\n  const [message, setMessage] = useState('');\n\n  const handleMessageChange = event => {\n    setMessage(event.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }), (dorm === null || dorm === void 0 ? void 0 : dorm.length) != 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"center\", {\n    className: \"reviewcen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, \"Review \", dorm.Name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \" card7 card3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"\",\n    onSubmit: handleSubmit(SubmitForm),\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RateRoom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"Rate the \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"titi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 30\n    }\n  }, \"room\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \"Consider room size, cleanliness, and natural light access when evaluating.\"), /*#__PURE__*/React.createElement(Rating, {\n    name: \"simple-controlled\",\n    size: \"large\",\n    value: value,\n    onChange: (event, newValue) => {\n      setValue(newValue);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RateRoom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Rate the \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"titi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 30\n    }\n  }, \"building\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, \"One may consider the facilities, hygienic standards, and age of the edifice.\"), /*#__PURE__*/React.createElement(Rating, {\n    name: \"simple-controlled1\",\n    size: \"large\",\n    value: value1,\n    onChange: (event, newValue) => {\n      setValue1(newValue);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RateRoom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, \"Rate the \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"titi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 30\n    }\n  }, \"bathroom\"), \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, \"To assess the bathroom, consider its cleanliness, modernity, and features.\"), /*#__PURE__*/React.createElement(Rating, {\n    name: \"simple-controlled3\",\n    size: \"large\",\n    value: value2,\n    onChange: (event, newValue) => {\n      setValue2(newValue);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RateRoom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, \"Rate the \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"titi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 30\n    }\n  }, \"location\"), \" \"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, \"When evaluating the site, one should take into account its level of accessibility and security.\"), /*#__PURE__*/React.createElement(Rating, {\n    name: \"simple-controlled4\",\n    size: \"large\",\n    value: value3,\n    onChange: (event, newValue) => {\n      setValue3(newValue);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  })), value && value1 && value2 && value3 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"finrate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ratefinfin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 44\n    }\n  }, \"Your Rating: \"), \"  \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ratefin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 93\n    }\n  }, \"  \", (value + value1 + value2 + value3) / 4, \"/5 \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"svgstar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 170\n    }\n  }, /*#__PURE__*/React.createElement(BsFillStarFill, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 195\n    }\n  })), \" \"))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mome\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"revieww\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, \"Write a \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"titi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }, \"comment\")), /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    id: \"messagee\",\n    name: \"messagee\",\n    rows: \"7\",\n    cols: \"60\",\n    style: {\n      padding: 10,\n      fontSize: 15\n    },\n    placeholder: \"Please write a helpful comment with at least 100 characters for assistance.\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"err\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, ((_errors$messagee = errors.messagee) === null || _errors$messagee === void 0 ? void 0 : _errors$messagee.message) ? \"Minimum 100 characters required for your review.\" : \"\"), /*#__PURE__*/React.createElement(\"center\", {\n    className: \"margintopi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"backrev\",\n    onClick: handleButtback,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"submitreview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, \"Submit\")))))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"center\", {\n    className: \"centerdorm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 40\n    }\n  }, \"Dorm does not exist\")), /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"backhome bbc\",\n    onClick: () => handleit(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, \"Go back Home\"))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default AddReview;","map":{"version":3,"sources":["C:/Users/USER/OneDrive/Desktop/WebCourse/DormCritique/frontend/src/pages/AddReview/AddReview.jsx"],"names":["React","useState","useEffect","Navbar","useSelector","useDispatch","useNavigate","useParams","useLocation","getDormById","useForm","actionType","decode","yupResolver","yup","Rating","BsFillStarFill","Footer","schema","object","shape","messagee","string","required","min","max","value","number","AddReview","navigate","dispatch","location","id","setValue","value1","setValue1","value2","setValue2","value3","setValue3","dorm","state","dorms","length","_id","user","setUser","JSON","parse","localStorage","getItem","register","handleSubmit","errors","resolver","handleButtback","Coordinates","long","lag","SubmitForm","Data","console","log","logout","type","LOGOUT","push","handleit","message","setMessage","handleMessageChange","event","target","Name","newValue","padding","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Navbar from '../../components/navbar/Navbar'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate, useParams, useLocation } from \"react-router-dom\";\r\nimport { getDormById } from '../../actions/dorms';\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport * as actionType from '../../constants/actionTypes';\r\nimport decode from 'jwt-decode';\r\nimport { yupResolver } from \"@hookform/resolvers/yup\"\r\nimport * as yup from \"yup\";\r\n\r\nimport { Rating } from '@material-ui/lab/';\r\nimport \"./AddReview.css\"\r\nimport { BsFillStarFill } from \"react-icons/bs\";\r\nimport Footer from '../../components/footer/Footer';\r\n\r\nconst schema = yup.object().shape({\r\n  messagee: yup.string().required(\"This field is required\").min(100).max(500),\r\n  value: yup.number().required(\"This field is required\")\r\n})\r\n\r\nfunction AddReview() {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n\r\n  let { id } = useParams();\r\n  const [value, setValue] = useState(null);\r\n  const [value1, setValue1] = useState(null);\r\n  const [value2, setValue2] = useState(null);\r\n  const [value3, setValue3] = useState(null);\r\n\r\n  const dorm = useSelector((state) => state.dorms)\r\n\r\n    // const [NoValue1, setNoValue1] = useState(\"\");\r\n\r\n  if (dorm == null) {\r\n    navigate(`/`)\r\n  }\r\n\r\n  if (id.length > 24 || id.length < 24) {\r\n    navigate(`/error`)\r\n  }\r\n\r\n  if (id != dorm?._id) {\r\n    navigate(`/error`)\r\n  }\r\n\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\r\nconst { register, handleSubmit, errors } = useForm({\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const handleButtback = () => {\r\n    navigate(`/reviews/${dorm._id}/${dorm.Coordinates.long}/${dorm.Coordinates.lag}`)\r\n  }\r\n\r\n  const SubmitForm = (Data) => {\r\n    console.log(value)\r\n    console.log(value1)\r\n    console.log(value2)\r\n    console.log(value3)\r\n    console.log(\"sgdffffffffff\")\r\n\r\n    console.log(Data.messagee)\r\n  }\r\n  console.log(value)\r\n\r\n\r\n  const logout = () => {\r\n    dispatch({ type: actionType.LOGOUT });\r\n    navigate.push('/auth');\r\n    setUser(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      navigate('/auth');\r\n    }\r\n\r\n    dispatch(getDormById(id));\r\n  }, [dispatch, location]);\r\n  const handleit = () => {\r\n    navigate(`/`)\r\n  }\r\n\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleMessageChange = event => {\r\n    setMessage(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      {dorm?.length != 0 ? (<>\r\n        <center className='reviewcen'>\r\n          <h2>Review {dorm.Name}</h2>\r\n\r\n        </center>\r\n        <div className=\"bodd\">\r\n          <div className=' card7 card3'>\r\n            <form action=\"\" onSubmit={handleSubmit(SubmitForm)} encType=\"multipart/form-data\">\r\n              <div className=\"RateRoom\">\r\n                <h3>Rate the <span className='titi'>room</span></h3>\r\n                <p>Consider room size, cleanliness, and natural light access when evaluating.</p>\r\n                <Rating name=\"simple-controlled\"\r\n                  size=\"large\"\r\n                  value={value}\r\n                  onChange={(event, newValue) => {\r\n                    setValue(newValue);\r\n                  }}\r\n                />\r\n                {/* <input type=\"hidden\" name=\"value\" value={value} /> */}\r\n\r\n              </div>\r\n              <div className=\"RateRoom\">\r\n                <h3>Rate the <span className='titi'>building</span></h3>\r\n                <p>One may consider the facilities, hygienic standards, and age of the edifice.</p>\r\n                <Rating\r\n                 name=\"simple-controlled1\"\r\n                  size=\"large\"\r\n                  value={value1}\r\n                  onChange={(event, newValue) => {\r\n                    setValue1(newValue);\r\n                  }}\r\n                />\r\n\r\n              </div>\r\n              <div className=\"RateRoom\">\r\n                <h3>Rate the <span className='titi'>bathroom</span> </h3>\r\n                <p>To assess the bathroom, consider its cleanliness, modernity, and features.</p>\r\n                <Rating name=\"simple-controlled3\"\r\n                  size=\"large\"\r\n                  value={value2}\r\n                  onChange={(event, newValue) => {\r\n                    setValue2(newValue);\r\n                  }}\r\n                />\r\n\r\n              </div>\r\n              <div className=\"RateRoom\">\r\n                <h3>Rate the <span className='titi'>location</span> </h3>\r\n                <p>When evaluating the site, one should take into account\r\n                  its level of accessibility and security.</p>\r\n                <Rating name=\"simple-controlled4\"\r\n                  size=\"large\"\r\n                  value={value3}\r\n                  onChange={(event, newValue) => {\r\n                    setValue3(newValue);\r\n                  }}\r\n                />\r\n              </div>\r\n              {value && value1 && value2 && value3 ? (<>\r\n                <center>\r\n                  <div className='finrate'><div className='ratefinfin'>Your Rating: </div>  <div className='ratefin'>  {(value + value1 + value2 + value3) / 4}/5 </div> <div className='svgstar'><BsFillStarFill /></div> </div>\r\n\r\n                </center>\r\n              </>) : (<>\r\n                <div className='mome'>\r\n\r\n                </div>\r\n              </>)}\r\n                    {/* <span className='error'>{NoValue1}</span> */}\r\n\r\n              <div className='revieww'>\r\n                <h3>Write a <span className='titi'>comment</span></h3>\r\n\r\n                <textarea type=\"text\" id=\"messagee\" name=\"messagee\" rows=\"7\" cols=\"60\" style={{ padding: 10, fontSize: 15 }} placeholder=\"Please write a helpful comment with at least 100 characters for assistance.\" ref={register} >\r\n\r\n                </textarea>\r\n              </div>\r\n              <span className='err'>{errors.messagee?.message ? \"Minimum 100 characters required for your review.\" : \"\"}</span>\r\n\r\n\r\n              <center className='margintopi'>\r\n                <button className='backrev' onClick={handleButtback}>Back</button>\r\n                <button type='submit' className='submitreview' >Submit</button>\r\n              </center>\r\n            </form>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      </>) : (<>\r\n\r\n        <center className='centerdorm'><h2>Dorm does not exist</h2></center>\r\n        <center><button className='backhome bbc' onClick={() => handleit()}>Go back Home</button></center>\r\n\r\n      </>)}\r\n\r\n\r\n\r\n\r\n      <Footer />\r\n\r\n\r\n\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddReview\r\n"]},"metadata":{},"sourceType":"module"}